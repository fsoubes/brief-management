{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  products: [],\n  checkoutState: \"LOADING\",\n  errorMessage: \"\"\n};\nexport const getProducts = createAsyncThunk(\"products/get\", async () => {\n  const products = await fetch(\"http://localhost:4000/products\");\n  return await products.json();\n});\nconst productsSlice = createSlice({\n  initialState,\n  name: \"products\",\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(getProducts.pending, state => {\n      state.checkoutState = \"LOADING\";\n    });\n    builder.addCase(getProducts.fulfilled, (state, action) => {\n      state.checkoutState = \"READY\";\n      state.products = action.payload;\n    });\n    builder.addCase(getProducts.rejected, (state, action) => {\n      state.checkoutState = \"ERROR\";\n      state.errorMessage = action.error.message || \"\";\n    });\n  }\n});\nexport default productsSlice.reducer;","map":{"version":3,"sources":["/home/franck/brief-management/brief-management-client/src/features/products/productsSlice.ts"],"names":["createAsyncThunk","createSlice","initialState","products","checkoutState","errorMessage","getProducts","fetch","json","productsSlice","name","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","error","message","reducer"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AAcA,MAAMC,YAA2B,GAAG;AAClCC,EAAAA,QAAQ,EAAE,EADwB;AAElCC,EAAAA,aAAa,EAAE,SAFmB;AAGlCC,EAAAA,YAAY,EAAE;AAHoB,CAApC;AAMA,OAAO,MAAMC,WAAW,GAAGN,gBAAgB,CAAC,cAAD,EAAiB,YAAY;AACtE,QAAMG,QAAQ,GAAG,MAAMI,KAAK,CAAC,gCAAD,CAA5B;AACA,SAAQ,MAAMJ,QAAQ,CAACK,IAAT,EAAd;AACD,CAH0C,CAApC;AAKP,MAAMC,aAAa,GAAGR,WAAW,CAAC;AAChCC,EAAAA,YADgC;AAEhCQ,EAAAA,IAAI,EAAE,UAF0B;AAGhCC,EAAAA,QAAQ,EAAE,EAHsB;AAIhCC,EAAAA,aAAa,EAAGC,OAAD,IAAa;AAC1BA,IAAAA,OAAO,CAACC,OAAR,CAAgBR,WAAW,CAACS,OAA5B,EAAsCC,KAAD,IAAW;AAC9CA,MAAAA,KAAK,CAACZ,aAAN,GAAsB,SAAtB;AACD,KAFD;AAGAS,IAAAA,OAAO,CAACC,OAAR,CAAgBR,WAAW,CAACW,SAA5B,EAAuC,CAACD,KAAD,EAAQE,MAAR,KAAmB;AACxDF,MAAAA,KAAK,CAACZ,aAAN,GAAsB,OAAtB;AACAY,MAAAA,KAAK,CAACb,QAAN,GAAiBe,MAAM,CAACC,OAAxB;AACD,KAHD;AAIAN,IAAAA,OAAO,CAACC,OAAR,CAAgBR,WAAW,CAACc,QAA5B,EAAsC,CAACJ,KAAD,EAAQE,MAAR,KAAmB;AACvDF,MAAAA,KAAK,CAACZ,aAAN,GAAsB,OAAtB;AACAY,MAAAA,KAAK,CAACX,YAAN,GAAqBa,MAAM,CAACG,KAAP,CAAaC,OAAb,IAAwB,EAA7C;AACD,KAHD;AAID;AAhB+B,CAAD,CAAjC;AAmBA,eAAeb,aAAa,CAACc,OAA7B","sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { CheckoutState } from \"../../shared/api/constant\";\n\nexport interface Products {\n  id: number;\n  name: string;\n}\n\nexport interface ProductsState {\n  products: Products[];\n  checkoutState: CheckoutState;\n  errorMessage: string;\n}\n\nconst initialState: ProductsState = {\n  products: [],\n  checkoutState: \"LOADING\",\n  errorMessage: \"\",\n};\n\nexport const getProducts = createAsyncThunk(\"products/get\", async () => {\n  const products = await fetch(\"http://localhost:4000/products\");\n  return (await products.json()) as Products[];\n});\n\nconst productsSlice = createSlice({\n  initialState,\n  name: \"products\",\n  reducers: {},\n  extraReducers: (builder) => {\n    builder.addCase(getProducts.pending, (state) => {\n      state.checkoutState = \"LOADING\";\n    });\n    builder.addCase(getProducts.fulfilled, (state, action) => {\n      state.checkoutState = \"READY\";\n      state.products = action.payload;\n    });\n    builder.addCase(getProducts.rejected, (state, action) => {\n      state.checkoutState = \"ERROR\";\n      state.errorMessage = action.error.message || \"\";\n    });\n  },\n});\n\nexport default productsSlice.reducer;\n"]},"metadata":{},"sourceType":"module"}