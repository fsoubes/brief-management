{"ast":null,"code":"var _jsxFileName = \"/home/franck/brief-management/brief-management-client/src/features/briefs/components/BriefList.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useAppSelector } from \"../../../shared/hooks\";\nimport { getBriefs, getBriefsByProductId } from \"../briefsSlice\";\nimport BriefDetail from \"./BriefDetail\";\nimport { Routes, Route, useLocation, useNavigate } from \"react-router-dom\";\nimport Spinner from \"../../../Components/Spinner/Spinner\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport FormControl from \"@mui/material/FormControl\";\nimport Select from \"@mui/material/Select\";\nimport Box from \"@mui/material/Box\";\nimport BriefItem from \"./BriefItem\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BriefList = _ref => {\n  _s();\n\n  let {} = _ref;\n  const {\n    pathname\n  } = useLocation();\n  const dispatch = useDispatch();\n  let navigate = useNavigate();\n  const {\n    checkoutState\n  } = useAppSelector(state => state.briefs);\n  const {\n    products\n  } = useAppSelector(state => state.products);\n  const [selectedId, setSelectedId] = useState(\"\");\n  const briefs = useAppSelector(state => getBriefsByProductId(state, selectedId));\n\n  const handleChange = event => {\n    setSelectedId(event.target.value);\n  };\n\n  useEffect(() => {\n    dispatch(getBriefs());\n  }, [dispatch]);\n  const briefList = briefs.map((_ref2, index) => {\n    let {\n      title,\n      comment,\n      productId,\n      id\n    } = _ref2;\n    return /*#__PURE__*/_jsxDEV(BriefItem, {\n      id: id,\n      title: title,\n      comment: comment,\n      productname: products[productId - 1].name\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this);\n  });\n  return checkoutState !== \"READY\" && products.length > 0 ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-around\",\n      width: \"100%\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Briefs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setSelectedId(\"\");\n            navigate(\"/\");\n          },\n          style: {\n            maxHeight: \"20px\",\n            backgroundColor: \"transparent\",\n            border: \"none\",\n            cursor: \"pointer\",\n            color: \"red\"\n          },\n          children: \"Clear\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            minWidth: 120\n          },\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"demo-simple-select-label\",\n              children: \"Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"demo-simple-select-label\",\n              id: \"demo-simple-select\",\n              value: selectedId,\n              label: \"selectedId\",\n              onChange: handleChange,\n              children: products && products.map((item, index) => {\n                return /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: index,\n                  children: item.name\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: briefList\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: /*#__PURE__*/_jsxDEV(Route, {\n        path: \"briefs/:id\",\n        element: /*#__PURE__*/_jsxDEV(BriefDetail, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 43\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), pathname === \"/\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"3rem\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Select a brief for more detail\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n\n_s(BriefList, \"iUpOlGChhxR7zlv7Qx6vxqMnbkM=\", false, function () {\n  return [useLocation, useDispatch, useNavigate, useAppSelector, useAppSelector, useAppSelector];\n});\n\n_c = BriefList;\nexport default BriefList;\n\nvar _c;\n\n$RefreshReg$(_c, \"BriefList\");","map":{"version":3,"sources":["/home/franck/brief-management/brief-management-client/src/features/briefs/components/BriefList.tsx"],"names":["React","useEffect","useState","useDispatch","useAppSelector","getBriefs","getBriefsByProductId","BriefDetail","Routes","Route","useLocation","useNavigate","Spinner","InputLabel","MenuItem","FormControl","Select","Box","BriefItem","BriefList","pathname","dispatch","navigate","checkoutState","state","briefs","products","selectedId","setSelectedId","handleChange","event","target","value","briefList","map","index","title","comment","productId","id","name","length","display","justifyContent","width","alignItems","maxHeight","backgroundColor","border","cursor","color","minWidth","item","marginTop"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useAppSelector } from \"../../../shared/hooks\";\nimport { getBriefs, getBriefsByProductId } from \"../briefsSlice\";\nimport BriefDetail from \"./BriefDetail\";\nimport { Routes, Route, useLocation, useNavigate } from \"react-router-dom\";\nimport Spinner from \"../../../Components/Spinner/Spinner\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport FormControl from \"@mui/material/FormControl\";\nimport Select, { SelectChangeEvent } from \"@mui/material/Select\";\nimport Box from \"@mui/material/Box\";\nimport BriefItem from \"./BriefItem\";\n\ninterface BriefListProps {}\n\nconst BriefList: React.FC<BriefListProps> = ({}) => {\n  const { pathname } = useLocation();\n  const dispatch = useDispatch();\n  let navigate = useNavigate();\n  const { checkoutState } = useAppSelector((state) => state.briefs);\n  const { products } = useAppSelector((state) => state.products);\n  const [selectedId, setSelectedId] = useState<string>(\"\");\n\n  const briefs = useAppSelector((state) =>\n    getBriefsByProductId(state, selectedId)\n  );\n\n  const handleChange = (event: SelectChangeEvent) => {\n    setSelectedId(event.target.value);\n  };\n\n  useEffect(() => {\n    dispatch(getBriefs());\n  }, [dispatch]);\n\n  const briefList = briefs.map(\n    ({ title, comment, productId, id }, index: number) => (\n      <BriefItem\n        key={index}\n        id={id}\n        title={title}\n        comment={comment}\n        productname={products[productId - 1].name}\n      />\n    )\n  );\n\n  return checkoutState !== \"READY\" && products.length > 0 ? (\n    <Spinner />\n  ) : (\n    <div\n      style={{ display: \"flex\", justifyContent: \"space-around\", width: \"100%\" }}\n    >\n      <div>\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n          }}\n        >\n          <h2>Briefs</h2>\n\n          <button\n            onClick={() => {\n              setSelectedId(\"\");\n              navigate(\"/\");\n            }}\n            style={{\n              maxHeight: \"20px\",\n              backgroundColor: \"transparent\",\n              border: \"none\",\n              cursor: \"pointer\",\n              color: \"red\",\n            }}\n          >\n            Clear\n          </button>\n        </div>\n        <div>\n          <Box sx={{ minWidth: 120 }}>\n            <FormControl fullWidth>\n              <InputLabel id=\"demo-simple-select-label\">Product</InputLabel>\n              <Select\n                labelId=\"demo-simple-select-label\"\n                id=\"demo-simple-select\"\n                value={selectedId}\n                label=\"selectedId\"\n                onChange={handleChange}\n              >\n                {products &&\n                  products.map((item: any, index: number) => {\n                    return (\n                      <MenuItem value={index} key={index}>\n                        {item.name}\n                      </MenuItem>\n                    );\n                  })}\n              </Select>\n            </FormControl>\n          </Box>\n          <ul>{briefList}</ul>\n        </div>\n      </div>\n      <Routes>\n        <Route path=\"briefs/:id\" element={<BriefDetail />} />\n      </Routes>\n      {pathname === \"/\" && (\n        <div style={{ marginTop: \"3rem\" }}>\n          <h2>Select a brief for more detail</h2>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default BriefList;\n"]},"metadata":{},"sourceType":"module"}